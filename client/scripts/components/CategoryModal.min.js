const CATEGORY_BUTTONS=[["Literature","primary"],["History","success"],["Science","danger"],["Fine Arts","warning"],["Religion","secondary"],["Mythology","secondary"],["Philosophy","secondary"],["Social Science","secondary"],["Current Events","secondary"],["Geography","secondary"],["Other Academic","secondary"],["Pop Culture","secondary"]],SUBCATEGORY_BUTTONS=[["American Literature","primary"],["British Literature","primary"],["Classical Literature","primary"],["European Literature","primary"],["World Literature","primary"],["Other Literature","primary"],["American History","success"],["Ancient History","success"],["European History","success"],["World History","success"],["Other History","success"],["Biology","danger"],["Chemistry","danger"],["Physics","danger"],["Other Science","danger"],["Visual Fine Arts","warning"],["Auditory Fine Arts","warning"],["Other Fine Arts","warning"]],ALTERNATE_SUBCATEGORY_BUTTONS=[["Drama","primary"],["Long Fiction","primary"],["Poetry","primary"],["Short Fiction","primary"],["Misc Literature","primary"],["Math","danger"],["Astronomy","danger"],["Computer Science","danger"],["Earth Science","danger"],["Engineering","danger"],["Misc Science","danger"],["Architecture","warning"],["Dance","warning"],["Film","warning"],["Jazz","warning"],["Musicals","warning"],["Opera","warning"],["Photography","warning"],["Misc Arts","warning"],["Anthropology","secondary"],["Economics","secondary"],["Linguistics","secondary"],["Psychology","secondary"],["Sociology","secondary"],["Other Social Science","secondary"]];function CategoryModal({categoryManager:a,disablePercentView:b=!1,onClose:c=()=>{}}){function d({category:b,index:c}){function d(b){// clamp the percent between 0 and 100
const d=Math.min(100,Math.max(0,a.categoryPercents[c]+b));a.categoryPercents[c]=d,a.loadCategoryModal()}return/*#__PURE__*/React.createElement("tr",null,/*#__PURE__*/React.createElement("th",{style:{width:"50%"}},b),/*#__PURE__*/React.createElement("td",{style:{width:"50%"}},/*#__PURE__*/React.createElement("span",{className:"font-monospace me-1 category-percent"}),/*#__PURE__*/React.createElement("div",{className:"btn-group btn-group-sm me-1",role:"group"},/*#__PURE__*/React.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>d(-5)},"-"),/*#__PURE__*/React.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>d(5)},"+")),/*#__PURE__*/React.createElement("div",{className:"btn-group btn-group-sm",role:"group"},/*#__PURE__*/React.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>d(-100)},"Min"),/*#__PURE__*/React.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>d(50-a.categoryPercents[c])},"50%"),/*#__PURE__*/React.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>d(100-a.categoryPercents.reduce((c,a)=>c+a))},"Max"))))}function e({category:b,color:c}){return/*#__PURE__*/React.createElement("div",null,/*#__PURE__*/React.createElement("input",{type:"checkbox",className:"btn-check",autoComplete:"off",id:b,onClick:function(){a.updateCategory(b),a.loadCategoryModal()}}),/*#__PURE__*/React.createElement("label",{className:`btn btn-outline-${c} w-100 rounded-0 my-1`,htmlFor:b},b,/*#__PURE__*/React.createElement("br",null)))}function f({subcategory:b,color:c,hidden:d=!1}){return/*#__PURE__*/React.createElement("div",null,/*#__PURE__*/React.createElement("input",{type:"checkbox",className:"btn-check",autoComplete:"off",id:b,onClick:function(){a.updateSubcategory(b),a.loadCategoryModal()}}),/*#__PURE__*/React.createElement("label",{className:`btn btn-outline-${c} w-100 rounded-0 my-1 ${d&&"d-none"}`,htmlFor:b},b,/*#__PURE__*/React.createElement("br",null)))}function g({subcategory:b,color:c,hidden:d=!1}){return/*#__PURE__*/React.createElement("div",null,/*#__PURE__*/React.createElement("input",{type:"checkbox",className:"btn-check",autoComplete:"off",id:b,onClick:function(){a.updateAlternateSubcategory(b),a.loadCategoryModal()}}),/*#__PURE__*/React.createElement("label",{className:`btn btn-outline-${c} w-100 rounded-0 my-1 ${d&&"d-none"}`,htmlFor:b},b,/*#__PURE__*/React.createElement("br",null)))}return React.useEffect(()=>{a.loadCategoryModal(),document.getElementById("category-modal").addEventListener("hidden.bs.modal",c)},[c]),/*#__PURE__*/React.createElement("div",{className:"modal modal-lg",id:"category-modal",tabIndex:"-1"},/*#__PURE__*/React.createElement("div",{className:"modal-dialog modal-dialog-scrollable"},/*#__PURE__*/React.createElement("div",{className:"modal-content"},/*#__PURE__*/React.createElement("div",{className:"modal-header"},/*#__PURE__*/React.createElement("h5",{className:"modal-title me-2"},"Select Categories"),/*#__PURE__*/React.createElement(function(){return/*#__PURE__*/React.createElement("button",{className:"btn btn-primary me-1",id:"toggle-all",onClick:function(){0===a.categories.length?a.import({categories:CATEGORY_BUTTONS.map(a=>a[0]),subcategories:SUBCATEGORY_BUTTONS.map(a=>a[0]),alternateSubcategories:ALTERNATE_SUBCATEGORY_BUTTONS.map(a=>a[0])}):a.import(),a.loadCategoryModal()}},"Toggle all")},null),b||/*#__PURE__*/React.createElement(function(){return/*#__PURE__*/React.createElement("button",{className:"btn btn-primary",onClick:function(){a.percentView=!a.percentView,a.loadCategoryModal()}},"% view")},null),/*#__PURE__*/React.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),/*#__PURE__*/React.createElement("div",{className:"modal-body"},/*#__PURE__*/React.createElement("div",{className:"row",id:"non-percent-view"},/*#__PURE__*/React.createElement("div",{className:"col-4",id:"categories"},/*#__PURE__*/React.createElement("h5",{className:"text-center"},"Category"),CATEGORY_BUTTONS.map(a=>/*#__PURE__*/React.createElement(e,{key:a[0],category:a[0],color:a[1]}))),/*#__PURE__*/React.createElement("div",{className:"col-4",id:"subcategories"},/*#__PURE__*/React.createElement("h5",{className:"text-center"},"Subcategory"),/*#__PURE__*/React.createElement("div",{className:"text-muted text-center",id:"subcategory-info-text"},"You must select categories before you can select subcategories."),SUBCATEGORY_BUTTONS.map(a=>/*#__PURE__*/React.createElement(f,{key:a[0],subcategory:a[0],color:a[1],hidden:!0}))),/*#__PURE__*/React.createElement("div",{className:"col-4",id:"alternate-subcategories"},/*#__PURE__*/React.createElement("h5",{className:"text-center"},"Alternate ",/*#__PURE__*/React.createElement("span",{className:"d-none d-lg-inline"},"Subcategory")),ALTERNATE_SUBCATEGORY_BUTTONS.map(a=>/*#__PURE__*/React.createElement(g,{key:a[0],subcategory:a[0],color:a[1],hidden:!0})))),/*#__PURE__*/React.createElement("div",{className:"d-none",id:"percent-view"},/*#__PURE__*/React.createElement("table",{className:"table"},/*#__PURE__*/React.createElement("tbody",null,CATEGORY_BUTTONS.map((a,b)=>/*#__PURE__*/React.createElement(d,{key:a[0],category:a[0],index:b})),/*#__PURE__*/React.createElement("tr",null,/*#__PURE__*/React.createElement("th",null,"Total Percent:"),/*#__PURE__*/React.createElement("td",{className:"font-monospace"},/*#__PURE__*/React.createElement("span",{className:"me-1"},(a.categoryPercents.reduce((c,a)=>c+a,0)+"").padStart(3,"\xA0"),"%"),/*#__PURE__*/React.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>{a.categoryPercents=a.categoryPercents.map(()=>0),a.loadCategoryModal()}},"Reset"))))))))))}export default CategoryModal;